# ─────────────────────────────────────────────────────────────────────────────
# Property Management API — Environment Variables
# Copy this file to .env and fill in the values.
# NEVER commit .env to version control.
# ─────────────────────────────────────────────────────────────────────────────

# ── Runtime ───────────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=3000

# ── Application ───────────────────────────────────────────────────────────────
APP_NAME="Property Management API"
APP_VERSION=1.0.0

# ── Database ──────────────────────────────────────────────────────────────────
# Local dev (no auth):
MONGODB_URI=mongodb://127.0.0.1:27017/property_db

# Docker Compose (with auth):
# MONGODB_URI=mongodb://admin:password@localhost:27017/property_db?authSource=admin

# Atlas (production):
# MONGODB_URI=mongodb+srv://<user>:<password>@cluster0.xxxxx.mongodb.net/property_db?retryWrites=true&w=majority

MONGODB_MAX_POOL_SIZE=10
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_SOCKET_TIMEOUT_MS=45000

# ── Auth / JWT ────────────────────────────────────────────────────────────────
# Generate secrets with:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_ACCESS_SECRET=CHANGE_ME_generate_a_64_byte_hex_string_here
JWT_REFRESH_SECRET=CHANGE_ME_generate_a_different_64_byte_hex_string_here
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
COOKIE_SECRET=CHANGE_ME_another_64_byte_hex_string_for_cookie_signing

# ── CORS ──────────────────────────────────────────────────────────────────────
# Comma-separated list of allowed frontend origins
CORS_ORIGINS=http://localhost:5173

# ── Rate Limiting ─────────────────────────────────────────────────────────────
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_AUTH=5
RATE_LIMIT_MAX_GENERAL=300

# ── File Uploads ──────────────────────────────────────────────────────────────
UPLOAD_DEST=uploads
UPLOAD_MAX_FILE_SIZE=10485760

# ── AWS S3 (optional — set USE_S3=true to enable) ─────────────────────────────
USE_S3=false
# AWS_REGION=me-south-1
# AWS_S3_BUCKET=property-docs-prod
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# ── Logging ───────────────────────────────────────────────────────────────────
# trace | debug | info | warn | error | fatal | silent
LOG_LEVEL=info

# ── Cron ─────────────────────────────────────────────────────────────────────
# Recurring invoice generation: 00:05 on 1st of each month
CRON_INVOICE_SCHEDULE=5 0 1 * *

# ── Docker Compose only (not used by the app directly) ───────────────────────
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=password
ME_USERNAME=admin
ME_PASSWORD=admin
